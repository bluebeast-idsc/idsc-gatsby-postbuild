{"version":3,"sources":["webpack://idsc-gatsby-wordpress/./src/parseOptions.js","webpack://idsc-gatsby-wordpress/./src/templates/types/post.js"],"names":["postOptions","replace","attribs","children","id","startsWith","domToReact","data","previous","next","post","featuredImage","fluid","node","localFile","childImageSharp","gatsbyImageData","fixed","src","aspectRatio","alt","imgSrc","getSrc","metaDate","Date","toISOString","modifiedDate","modified","breadcrumbMeta","seo","breadcrumbs","map","crumb","index","position","item","url","name","text","catMeta","categories","nodes","cat","join","schema","sameAs","logo","inLanguage","contentUrl","width","height","caption","image","description","publisher","potentialAction","target","uri","title","isPartOf","primaryImageOfPage","datePublished","dateModified","metaDesc","breadcrumb","itemListElement","author","headline","mainEntityOfPage","commentCount","keywords","focuskw","articleSection","copyrightYear","copyrightHolder","cta","post_cta","tagPosts","tags","postId","parse","excerpt","schemaMarkup","itemScope","itemType","as","px","base","sm","md","itemProp","GatsbyLink","to","color","date","cats","key","length","content","p","mx","py","display","flexDirection","justifyContent","alignItems","pr","textTransform","className","sx"],"mappings":"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","file":"component---src-templates-types-post-js-52ad706a8f2801b732e8.js","sourcesContent":["import React from \"react\"\nimport { domToReact } from \"html-react-parser\"\nimport { PostImageContainer } from \"./styles/postStyles\"\n\nexport const postOptions = {\n  replace: ({ attribs, children }) => {\n    if (!attribs) {\n      return\n    }\n    if (attribs.id && attribs.id.startsWith(\"attachment_\")) {\n      return (\n        <PostImageContainer>\n          {domToReact(children, postOptions)}\n        </PostImageContainer>\n      )\n    }\n  },\n}\n","import React from \"react\"\nimport { Link as GatsbyLink, graphql } from \"gatsby\"\nimport { getSrc } from \"gatsby-plugin-image\"\nimport parse from \"html-react-parser\"\nimport { Link, Box, Text } from \"@chakra-ui/react\"\nimport {\n  PostArticle,\n  PostTitle,\n  PostMeta,\n  FeatImage,\n  ArticleBody,\n} from \"../../styles/postStyles\"\n\nimport { postOptions } from \"../../parseOptions\"\n\n// We're using Gutenberg so we need the block styles\n// import \"@wordpress/block-library/build-style/style.css\"\n// import \"@wordpress/block-library/build-style/theme.css\"\n\nimport Layout from \"../../components/layout\"\nimport Seo from \"../../components/Seo\"\n\nconst BlogPostTemplate = ({ data: { previous, next, post } }) => {\n  const featuredImage = {\n    fluid:\n      post.featuredImage?.node?.localFile?.childImageSharp?.gatsbyImageData,\n    fixed:\n      post.featuredImage?.node?.localFile?.childImageSharp?.gatsbyImageData\n        ?.src,\n    aspectRatio: 16 / 9,\n    alt: post.featuredImage?.node?.alt || ``,\n  }\n  const imgSrc = getSrc(post.featuredImage)\n  const metaDate = new Date(post.metaDate).toISOString()\n  const modifiedDate = new Date(post.modified).toISOString()\n\n  const breadcrumbMeta = post.seo.breadcrumbs.map((crumb, index) => {\n    const position = index + 1\n    const item = {\n      \"@type\": \"ListItem\",\n      position: position,\n      item: {\n        \"@type\": \"WebPage\",\n        \"@id\": `https://www.idrivesocal.com${crumb.url}`,\n        url: `https://www.idrivesocal.com${crumb.url}`,\n        name: crumb.text,\n      },\n    }\n    return item\n  })\n\n  const cats = post.categories.nodes.map(cat => {\n    return cat.name\n  })\n  const catMeta = cats.join()\n  const schema = {\n    \"@context\": \"https://schema.org\",\n    \"@graph\": [\n      {\n        \"@type\": \"Organization\",\n        \"@id\": \"https://www.idrivesocal.com/#organization\",\n        name: \"iDriveSoCal\",\n        url: \"https://www.idrivesocal.com/\",\n        sameAs: [\n          \"https://www.facebook.com/idrivesocal/\",\n          \"https://www.instagram.com/idrivesocal/\",\n          \"https://www.linkedin.com/company/idrivesocal/\",\n          \"https://www.youtube.com/channel/UC0HZusGNEBUl3lO7AdprFdQ\",\n          \"https://www.pinterest.com/iDriveSoCal/\",\n          \"https://twitter.com/idrivesocal\",\n        ],\n        logo: {\n          \"@type\": \"ImageObject\",\n          \"@id\": \"https://www.idrivesocal.com/#logo\",\n          inLanguage: \"en-US\",\n          url:\n            \"https://www.idrivesocal.com/wp-content/uploads/2019/05/iDriveSoCal.jpg\",\n          contentUrl:\n            \"https://www.idrivesocal.com/wp-content/uploads/2019/05/iDriveSoCal.jpg\",\n          width: 824,\n          height: 606,\n          caption: \"iDriveSoCal\",\n        },\n        image: { \"@id\": \"https://www.idrivesocal.com/#logo\" },\n      },\n      {\n        \"@type\": \"WebSite\",\n        \"@id\": \"https://www.idrivesocal.com/#website\",\n        url: \"https://www.idrivesocal.com/\",\n        name: \"iDriveSoCal\",\n        description: \"Automotive News &amp; Events\",\n        publisher: { \"@id\": \"https://www.idrivesocal.com/#organization\" },\n        potentialAction: [\n          {\n            \"@type\": \"SearchAction\",\n            target: \"https://www.idrivesocal.com/?s={search_term_string}\",\n            \"query-input\": \"required name=search_term_string\",\n          },\n        ],\n        inLanguage: \"en-US\",\n      },\n      {\n        \"@type\": \"ImageObject\",\n        \"@id\": `https://www.idrivesocal.com${post.uri}#primaryimage`,\n        inLanguage: \"en-US\",\n        url: imgSrc,\n        contentUrl: imgSrc,\n        width: 940,\n        height: 627,\n        caption: featuredImage?.alt,\n      },\n      {\n        \"@type\": \"WebPage\",\n        \"@id\": `https://www.idrivesocal.com${post.uri}#webpage`,\n        url: `https://www.idrivesocal.com${post.uri}`,\n        name: post.title,\n        isPartOf: { \"@id\": \"https://www.idrivesocal.com/#website\" },\n        primaryImageOfPage: {\n          \"@id\": `https://www.idrivesocal.com${post.uri}#primaryimage`,\n        },\n        datePublished: metaDate,\n        dateModified: modifiedDate,\n        description: post.seo.metaDesc,\n        breadcrumb: {\n          \"@id\": `https://www.idrivesocal.com${post.uri}#breadcrumb`,\n        },\n        inLanguage: \"en-US\",\n        potentialAction: [\n          {\n            \"@type\": \"ReadAction\",\n            target: [`https://www.idrivesocal.com${post.uri}`],\n          },\n        ],\n      },\n      {\n        \"@type\": \"BreadcrumbList\",\n        \"@id\": `https://www.idrivesocal.com${post.uri}#breadcrumb`,\n        itemListElement: breadcrumbMeta,\n      },\n      {\n        \"@type\": [\"Article\", \"NewsArticle\"],\n        \"@id\": `https://www.idrivesocal.com${post.uri}#article`,\n        isPartOf: {\n          \"@id\": `https://www.idrivesocal.com${post.uri}#webpage`,\n        },\n        author: {\n          \"@id\":\n            \"https://www.idrivesocal.com/#/schema/person/3103a769d4bfc520790c66d383460d0c\",\n        },\n        headline: post.title,\n        datePublished: metaDate,\n        dateModified: modifiedDate,\n        mainEntityOfPage: {\n          \"@id\": `https://www.idrivesocal.com${post.uri}#webpage`,\n        },\n        commentCount: 0,\n        publisher: { \"@id\": \"https://www.idrivesocal.com/#organization\" },\n        image: {\n          \"@id\": `https://www.idrivesocal.com${post.uri}#primaryimage`,\n        },\n        keywords: post.seo.focuskw,\n        articleSection: catMeta,\n        inLanguage: \"en-US\",\n        potentialAction: [\n          {\n            \"@type\": \"CommentAction\",\n            name: \"Comment\",\n            target: [`https://www.idrivesocal.com${post.uri}#respond`],\n          },\n        ],\n        copyrightYear: \"2021\",\n        copyrightHolder: { \"@id\": \"https://www.idrivesocal.com/#organization\" },\n      },\n      {\n        \"@type\": \"Person\",\n        \"@id\":\n          \"https://www.idrivesocal.com/#/schema/person/3103a769d4bfc520790c66d383460d0c\",\n        name: \"Tom Smith\",\n        image: {\n          \"@type\": \"ImageObject\",\n          \"@id\": \"https://www.idrivesocal.com/#personlogo\",\n          inLanguage: \"en-US\",\n          url:\n            \"https://secure.gravatar.com/avatar/5aa5f7ce3212b1123ed6e8ae1f486164?s=96&d=mm&r=g\",\n          contentUrl:\n            \"https://secure.gravatar.com/avatar/5aa5f7ce3212b1123ed6e8ae1f486164?s=96&d=mm&r=g\",\n          caption: \"Tom Smith\",\n        },\n        description:\n          \"I grew up in a small town in northern Illinois, graduated from Columbia College Chicago, and produced TV news for network affiliates. The TV news business was fun. But not the hours or many of the stories. And, I shifted to sales. But after many years I started getting fired a lot. Turns out old-school media companies don't like painful honesty and new ideas. Luckily, Al Gore invented the internet. So, I started iDSC. And cover whatever stories I want. ;0)\",\n        sameAs: [\"https://www.linkedin.com/in/tomsmith89/\"],\n      },\n    ],\n  }\n\n  return (\n    <Layout\n      breadcrumbs={post.seo.breadcrumbs}\n      cta={post.post_cta}\n      tagPosts={post.tags.nodes}\n      categories={post.categories.nodes}\n      postId={post.id}\n      author\n      previous={previous}\n      next={next}\n    >\n      <Seo\n        title={post.title}\n        description={parse(post.excerpt)}\n        schemaMarkup={schema}\n      />\n      <PostArticle itemScope itemType=\"http://schema.org/Article\">\n        <header>\n          <PostTitle as=\"h1\" px={{ base: 4, sm: 8, md: 8 }} itemProp=\"headline\">\n            {parse(post.title)}\n          </PostTitle>\n          <PostMeta px={{ base: 4, sm: 8, md: 8 }}>\n            <Link\n              as={GatsbyLink}\n              to={post.author.node.uri}\n              itemProp=\"url\"\n              color=\"gray.500\"\n            >\n              <span>Posted by {post.author.node.name}</span>\n            </Link>\n            <span>|</span>\n            <span>{post.date}</span>\n            {post.categories.nodes && <span>|</span>}\n            {post.categories.nodes &&\n              post.categories.nodes.map((cat, index, cats) => {\n                return (\n                  <Link\n                    as={GatsbyLink}\n                    to={cat.uri}\n                    itemProp=\"url\"\n                    color=\"gray.500\"\n                    key={index}\n                  >\n                    <span key={index}>\n                      {cat.name}\n                      {index < cats.length - 1 && \",\"}\n                    </span>\n                  </Link>\n                )\n              })}\n          </PostMeta>\n\n          {/* if we have a featured image for this post let's display it */}\n          {featuredImage?.fluid && (\n            <FeatImage image={featuredImage.fluid} alt={featuredImage.alt} />\n          )}\n        </header>\n\n        {!!post.content && (\n          <ArticleBody p={8} itemProp=\"articleBody\">\n            {parse(post.content, postOptions)}\n          </ArticleBody>\n        )}\n\n        <hr />\n      </PostArticle>\n      <Box\n        mx=\"auto\"\n        py=\"4\"\n        display=\"flex\"\n        flexDirection=\"row\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Text pr=\"4\" textTransform=\"uppercase\">\n          Share:\n        </Text>\n        <Box\n          className=\"s9-widget-wrapper\"\n          sx={{ \"& > div\": { width: \"fit-content\" } }}\n        />\n      </Box>\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostById($id: String!, $previousPage: String, $nextPage: String) {\n    post: wpPost(id: { eq: $id }) {\n      id\n      uri\n      excerpt\n      content\n      title\n      date(formatString: \"MMM DD, YYYY\")\n      metaDate: date\n      modified\n      seo {\n        metaDesc\n        focuskw\n        breadcrumbs {\n          text\n          url\n        }\n      }\n      author {\n        node {\n          id\n          uri\n          name\n        }\n      }\n      categories {\n        nodes {\n          name\n          uri\n        }\n      }\n      tags {\n        nodes {\n          posts {\n            nodes {\n              id\n              uri\n              title\n              featuredImage {\n                node {\n                  altText\n                  localFile {\n                    childImageSharp {\n                      gatsbyImageData(\n                        width: 400\n                        placeholder: TRACED_SVG\n                        layout: CONSTRAINED\n                      )\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      post_cta {\n        callToAction\n        callToActionLink\n      }\n      featuredImage {\n        node {\n          altText\n          localFile {\n            childImageSharp {\n              gatsbyImageData(placeholder: TRACED_SVG, layout: FULL_WIDTH)\n            }\n          }\n        }\n      }\n    }\n    previous: wpPost(id: { eq: $previousPage }) {\n      uri\n      title\n    }\n    next: wpPost(id: { eq: $nextPage }) {\n      uri\n      title\n    }\n  }\n`\n"],"sourceRoot":""}