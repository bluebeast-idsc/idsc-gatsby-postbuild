{"version":3,"sources":["webpack://idsc-gatsby-wordpress/./src/parseOptions.js","webpack://idsc-gatsby-wordpress/./src/templates/types/tribeEvent.js"],"names":["postOptions","replace","attribs","children","id","startsWith","domToReact","data","previous","next","event","customEvent","featuredImage","fluid","node","localFile","childImageSharp","gatsbyImageData","fixed","src","alt","imgSrc","getSrc","metaDate","Date","toISOString","modifiedDate","modified","breadcrumbMeta","seo","breadcrumbs","map","crumb","index","position","item","url","name","text","schema","sameAs","logo","inLanguage","contentUrl","width","height","caption","image","description","publisher","potentialAction","target","uri","title","isPartOf","primaryImageOfPage","datePublished","dateModified","metaDesc","breadcrumb","itemListElement","author","headline","mainEntityOfPage","commentCount","copyrightYear","copyrightHolder","startDate","endDate","location","venue","website","address","streetAddress","addressLocality","city","addressRegion","state","postalCode","zip","addressCountry","country","telephone","phone","console","log","excerpt","schemaMarkup","className","itemScope","itemType","as","px","base","sm","md","itemProp","parse","pb","textAlign","style","marginBottom","content","p","mx","py","display","flexDirection","justifyContent","alignItems","pr","textTransform","sx"],"mappings":"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","file":"component---src-templates-types-tribe-event-js-8d7c21b6e51583f68de3.js","sourcesContent":["import React from \"react\"\nimport { domToReact } from \"html-react-parser\"\nimport { PostImageContainer } from \"./styles/postStyles\"\n\nexport const postOptions = {\n  replace: ({ attribs, children }) => {\n    if (!attribs) {\n      return\n    }\n    if (attribs.id && attribs.id.startsWith(\"attachment_\")) {\n      return (\n        <PostImageContainer>\n          {domToReact(children, postOptions)}\n        </PostImageContainer>\n      )\n    }\n  },\n}\n","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport { getSrc } from \"gatsby-plugin-image\"\nimport parse from \"html-react-parser\"\nimport { Box, Text } from \"@chakra-ui/react\"\n\nimport {\n  PostArticle,\n  FeatImage,\n  PostTitle,\n  ArticleBody,\n  EventMeta,\n} from \"../../styles/postStyles\"\n\nimport { postOptions } from \"../../parseOptions\"\n\n// We're using Gutenberg so we need the block styles\nimport \"@wordpress/block-library/build-style/style.css\"\nimport \"@wordpress/block-library/build-style/theme.css\"\n\nimport Layout from \"../../components/layout\"\nimport Seo from \"../../components/Seo\"\n\nconst EventTemplate = ({ data: { previous, next, event, customEvent } }) => {\n  const featuredImage = {\n    fluid:\n      event.featuredImage?.node?.localFile?.childImageSharp?.gatsbyImageData,\n    fixed:\n      event.featuredImage?.node?.localFile?.childImageSharp?.gatsbyImageData\n        ?.src,\n    alt: event.featuredImage?.node?.alt || ``,\n  }\n\n  const imgSrc = getSrc(event.featuredImage)\n\n  const metaDate = new Date(event.metaDate).toISOString()\n  const modifiedDate = new Date(event.modified).toISOString()\n\n  const breadcrumbMeta = event.seo.breadcrumbs.map((crumb, index) => {\n    const position = index + 1\n    const item = {\n      \"@type\": \"ListItem\",\n      position: position,\n      item: {\n        \"@type\": \"WebPage\",\n        \"@id\": `https://www.idrivesocal.com${crumb.url}`,\n        url: `https://www.idrivesocal.com${crumb.url}`,\n        name: crumb.text,\n      },\n    }\n    return item\n  })\n  const schema = {\n    \"@context\": \"https://schema.org\",\n    \"@graph\": [\n      {\n        \"@type\": \"Organization\",\n        \"@id\": \"https://www.idrivesocal.com/#organization\",\n        name: \"iDriveSoCal\",\n        url: \"https://www.idrivesocal.com/\",\n        sameAs: [\n          \"https://www.facebook.com/idrivesocal/\",\n          \"https://www.instagram.com/idrivesocal/\",\n          \"https://www.linkedin.com/company/idrivesocal/\",\n          \"https://www.youtube.com/channel/UC0HZusGNEBUl3lO7AdprFdQ\",\n          \"https://www.pinterest.com/iDriveSoCal/\",\n          \"https://twitter.com/idrivesocal\",\n        ],\n        logo: {\n          \"@type\": \"ImageObject\",\n          \"@id\": \"https://www.idrivesocal.com/#logo\",\n          inLanguage: \"en-US\",\n          url:\n            \"https://www.idrivesocal.com/wp-content/uploads/2019/05/iDriveSoCal.jpg\",\n          contentUrl:\n            \"https://www.idrivesocal.com/wp-content/uploads/2019/05/iDriveSoCal.jpg\",\n          width: 824,\n          height: 606,\n          caption: \"iDriveSoCal\",\n        },\n        image: { \"@id\": \"https://www.idrivesocal.com/#logo\" },\n      },\n      {\n        \"@type\": \"WebSite\",\n        \"@id\": \"https://www.idrivesocal.com/#website\",\n        url: \"https://www.idrivesocal.com/\",\n        name: \"iDriveSoCal\",\n        description: \"Automotive News &amp; Events\",\n        publisher: { \"@id\": \"https://www.idrivesocal.com/#organization\" },\n        potentialAction: [\n          {\n            \"@type\": \"SearchAction\",\n            target: \"https://www.idrivesocal.com/?s={search_term_string}\",\n            \"query-input\": \"required name=search_term_string\",\n          },\n        ],\n        inLanguage: \"en-US\",\n      },\n      {\n        \"@type\": \"ImageObject\",\n        \"@id\": `https://www.idrivesocal.com${event.uri}#primaryimage`,\n        inLanguage: \"en-US\",\n        url: imgSrc,\n        contentUrl: imgSrc,\n        width: 927,\n        height: 696,\n        caption: featuredImage?.alt,\n      },\n      {\n        \"@type\": \"WebPage\",\n        \"@id\": `https://www.idrivesocal.com${event.uri}#webpage`,\n        url: `https://www.idrivesocal.com${event.uri}`,\n        name: event.title,\n        isPartOf: { \"@id\": \"https://www.idrivesocal.com/#website\" },\n        primaryImageOfPage: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#primaryimage`,\n        },\n        datePublished: metaDate,\n        dateModified: modifiedDate,\n        description: event.seo.metaDesc,\n        breadcrumb: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#breadcrumb`,\n        },\n        inLanguage: \"en-US\",\n        potentialAction: [\n          {\n            \"@type\": \"ReadAction\",\n            target: [`https://www.idrivesocal.com${event.uri}`],\n          },\n        ],\n      },\n      {\n        \"@type\": \"BreadcrumbList\",\n        \"@id\": `https://www.idrivesocal.com${event.uri}#breadcrumb`,\n        itemListElement: breadcrumbMeta,\n      },\n      {\n        \"@type\": [\"Article\", \"NewsArticle\"],\n        \"@id\": `https://www.idrivesocal.com${event.uri}#article`,\n        isPartOf: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#webpage`,\n        },\n        author: {\n          \"@id\":\n            \"https://www.idrivesocal.com/#/schema/person/3103a769d4bfc520790c66d383460d0c\",\n        },\n        headline: event.title,\n        datePublished: metaDate,\n        dateModified: modifiedDate,\n        mainEntityOfPage: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#webpage`,\n        },\n        commentCount: 0,\n        publisher: { \"@id\": \"https://www.idrivesocal.com/#organization\" },\n        image: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#primaryimage`,\n        },\n        inLanguage: \"en-US\",\n        potentialAction: [\n          {\n            \"@type\": \"CommentAction\",\n            name: \"Comment\",\n            target: [`https://www.idrivesocal.com${event.uri}#respond`],\n          },\n        ],\n        copyrightYear: \"2020\",\n        copyrightHolder: { \"@id\": \"https://www.idrivesocal.com/#organization\" },\n      },\n      {\n        \"@type\": \"Person\",\n        \"@id\":\n          \"https://www.idrivesocal.com/#/schema/person/3103a769d4bfc520790c66d383460d0c\",\n        name: \"Tom Smith\",\n        image: {\n          \"@type\": \"ImageObject\",\n          \"@id\": \"https://www.idrivesocal.com/#personlogo\",\n          inLanguage: \"en-US\",\n          url:\n            \"https://secure.gravatar.com/avatar/5aa5f7ce3212b1123ed6e8ae1f486164?s=96&d=mm&r=g\",\n          contentUrl:\n            \"https://secure.gravatar.com/avatar/5aa5f7ce3212b1123ed6e8ae1f486164?s=96&d=mm&r=g\",\n          caption: \"Tom Smith\",\n        },\n        description:\n          \"I grew up in a small town in northern Illinois, graduated from Columbia College Chicago, and produced TV news for network affiliates. The TV news business was fun. But not the hours or many of the stories. And, I shifted to sales. But after many years I started getting fired a lot. Turns out old-school media companies don't like painful honesty and new ideas. Luckily, Al Gore invented the internet. So, I started iDSC. And cover whatever stories I want. ;0)\",\n        sameAs: [\"https://www.linkedin.com/in/tomsmith89/\"],\n      },\n      {\n        \"@type\": \"Event\",\n        name: event.title,\n        description: event.seo.metaDesc,\n        image: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#primaryimage`,\n        },\n        url: `https://www.idrivesocal.com${event.uri}`,\n        startDate: event.startDate,\n        endDate: event.endDate,\n        location: {\n          \"@type\": \"Place\",\n          name: customEvent?.venue?.venue,\n          description: \"\",\n          url: customEvent?.venue?.website,\n          address: {\n            \"@type\": \"PostalAddress\",\n            streetAddress: customEvent?.venue?.address,\n            addressLocality: customEvent?.venue?.city,\n            addressRegion: customEvent?.venue?.state,\n            postalCode: customEvent?.venue?.zip,\n            addressCountry: customEvent?.venue?.country,\n          },\n          telephone: customEvent?.venue?.phone,\n        },\n        \"@id\": `https://www.idrivesocal.com${event.uri}#event`,\n        mainEntityOfPage: {\n          \"@id\": `https://www.idrivesocal.com${event.uri}#webpage`,\n        },\n      },\n    ],\n  }\n  console.log(customEvent.venue.venue)\n  return (\n    <Layout previous={previous} next={next}>\n      <Seo\n        title={event.title}\n        description={event.excerpt}\n        schemaMarkup={schema}\n      />\n\n      <PostArticle\n        className=\"blog-post\"\n        itemScope\n        itemType=\"http://schema.org/Event\"\n      >\n        <header>\n          <PostTitle as=\"h1\" px={{ base: 4, sm: 8, md: 8 }} itemProp=\"headline\">\n            {parse(event.title)}\n          </PostTitle>\n          <EventMeta\n            px={{ base: 4, sm: 8, md: 8 }}\n            pb=\"6\"\n            textAlign=\"center\"\n            startDate={event.startDate}\n            endDate={event.endDate}\n          />\n\n          {/* if we have a featured image for this event let's display it */}\n          {featuredImage?.fluid && (\n            <FeatImage\n              image={featuredImage.fluid}\n              alt={featuredImage.alt}\n              style={{ marginBottom: 50 }}\n            />\n          )}\n        </header>\n\n        {!!event.content && (\n          <ArticleBody p={8} itemProp=\"articleBody\">\n            {parse(event.content, postOptions)}\n          </ArticleBody>\n        )}\n\n        <hr />\n      </PostArticle>\n      <Box\n        mx=\"auto\"\n        py=\"4\"\n        display=\"flex\"\n        flexDirection=\"row\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Text pr=\"4\" textTransform=\"uppercase\">\n          Share:\n        </Text>\n        <Box\n          className=\"s9-widget-wrapper\"\n          sx={{ \"& > div\": { width: \"fit-content\" } }}\n        />\n      </Box>\n    </Layout>\n  )\n}\n\nexport default EventTemplate\n\nexport const pageQuery = graphql`\n  query EventById(\n    $id: String!\n    $slug: String\n    $previousPage: String\n    $nextPage: String\n  ) {\n    event: wpTribeEvent(id: { eq: $id }) {\n      id\n      uri\n      slug\n      excerpt\n      content\n      title\n      date(formatString: \"MMMM DD, YYYY; hh:mm a\")\n      metaDate: date\n      modified\n      startDate\n      endDate\n      seo {\n        metaDesc\n        focuskw\n        breadcrumbs {\n          text\n          url\n        }\n      }\n      tribeEventsCats {\n        nodes {\n          id\n          name\n          uri\n        }\n      }\n      featuredImage {\n        node {\n          altText\n          localFile {\n            childImageSharp {\n              gatsbyImageData(\n                quality: 100\n                placeholder: TRACED_SVG\n                layout: FULL_WIDTH\n              )\n            }\n          }\n        }\n      }\n    }\n    previous: wpTribeEvent(id: { eq: $previousPage }) {\n      uri\n      title\n    }\n    next: wpTribeEvent(id: { eq: $nextPage }) {\n      uri\n      title\n    }\n    customEvent: tribeEvent(slug: { eq: $slug }) {\n      id\n      title\n      venue {\n        venue\n        address\n        city\n        state\n        zip\n        country\n        phone\n        website\n      }\n    }\n  }\n`\n"],"sourceRoot":""}